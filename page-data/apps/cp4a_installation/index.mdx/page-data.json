{"componentChunkName":"component---src-pages-apps-cp-4-a-installation-index-mdx-md","path":"/apps/cp4a_installation/index.mdx/","result":{"pageContext":{"frontmatter":{"title":"Install on OpenShift Container Platform","weight":200},"relativePagePath":"/apps/cp4a_installation/index.mdx.md","titleType":"page","MdxNode":{"id":"ff2f4fb7-abd9-522e-a052-6bd25dbf4df8","children":[],"parent":"0ad07313-48ea-57bc-a07d-128b1102d4f6","internal":{"content":"---\ntitle: Install on OpenShift Container Platform\nweight: 200\n---\n\n## Cloud Pak for Applications Installer\n\nThe Cloud Pak for Applications Installer installs the following components on your Red Hat OpenShift Container Platform cluster:\n- Kabanero\n- IBM Cloud Transformation Advisor\n\nThese components install into an existing clusters including an on-premises cluster or Red Hat OpenShift on IBM Cloud  service.\nOpenShift can be obtained through the Cloud Pak or a Red Hat OpenShift subscription.\n\n[Knowledge Center](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-icpa-cli.html) details how to use the installer command line.\n\n## Cloud Pak for Applications Installer\n\nThe Cloud Pak for Applications Installer installs the following components on your OCP Cluster:\n- Kabanero\n- Transformation Advisor\n\nOnly installation from an entitled registry is supported.\nAir gapped installations are **not** supported.\nThe installer must have access to both the entitled registry and the target cluster from the same workstation.\n\n### Prerequisites\n\nThe [prerequisites](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-prerequisites.html) include Red Hat OpenShift Container Platform (OCP) version 4.2.\n\n### Installation\n\nThe full set of [instructions for installing Cloud Pak for Applications](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-icpa-cli.html) is found in the IBM Knowledge Center.  The installation can per performed from a workstation that is not one of the VMs in the cluster.  This workstation must have access to the entitled registry, the OCP/OKD cluster and the Internet.\n\nIf the OCP/OKD app subdomain is set in the cluster, there is no need to edit the generated config.yaml file.  The installation can be started with all default values.\n\n### Workarounds for Kabanero\n\nIn version `3.0.0.0` of Kabanero the appsody operator can only deploy applications in the `kabanero` namespace.\n\nTo work around this problem a second appsody operator needs to be deployed with a cluster scope that watches all namespaces.\n\nTake into account that the namespace `kabanero` will be watched by both appsody operators, this means that no applications should be depoyed into the `kabanero` namespace.\nThe user is required to set the namespace in the `app-deploy.yaml` in the appsody application git repository.\n\n\n#### Install the Appsody Operator CRD\n```\noc apply -f https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-crd.yaml\n```\n\n#### Install the Appsody Operator RBAC resources\nCreate a namespace to install the appsody operator for example `appsody` if not already created.\n```\noc new-project appsody\n```\n\nSet the environment variable `OPERATOR_NAMESPACE` to the namespace `appsody`\n```\nOPERATOR_NAMESPACE=appsody\n```\nWith the variable `OPERATOR_NAMESPACE` set run the following command:\n```\ncurl -L https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-cluster-rbac.yaml \\\n  | sed -e \"s/APPSODY_OPERATOR_NAMESPACE/${OPERATOR_NAMESPACE}/\" \\\n  | oc apply -f -\n ```\n\n#### Install the Appsody Operator resources\n\nSet the variable `WATCH_NAMESPACE` to empty string value to watch all namespaces\n```\nWATCH_NAMESPACE='\"\"'\n```\nThen run the following command\n```\ncurl -L https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-operator.yaml \\\n  | sed -e \"s/APPSODY_WATCH_NAMESPACE/${WATCH_NAMESPACE}/\" \\\n  | oc apply -n ${OPERATOR_NAMESPACE} -f -\n```\n\n\nThe cluster setup of Cloud Pak for Applications is complete.\n","type":"Mdx","contentDigest":"03fbbfa5f35311f83a5ac6adb34b7ef3","counter":214,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Install on OpenShift Container Platform","weight":200},"exports":{},"rawBody":"---\ntitle: Install on OpenShift Container Platform\nweight: 200\n---\n\n## Cloud Pak for Applications Installer\n\nThe Cloud Pak for Applications Installer installs the following components on your Red Hat OpenShift Container Platform cluster:\n- Kabanero\n- IBM Cloud Transformation Advisor\n\nThese components install into an existing clusters including an on-premises cluster or Red Hat OpenShift on IBM Cloud  service.\nOpenShift can be obtained through the Cloud Pak or a Red Hat OpenShift subscription.\n\n[Knowledge Center](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-icpa-cli.html) details how to use the installer command line.\n\n## Cloud Pak for Applications Installer\n\nThe Cloud Pak for Applications Installer installs the following components on your OCP Cluster:\n- Kabanero\n- Transformation Advisor\n\nOnly installation from an entitled registry is supported.\nAir gapped installations are **not** supported.\nThe installer must have access to both the entitled registry and the target cluster from the same workstation.\n\n### Prerequisites\n\nThe [prerequisites](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-prerequisites.html) include Red Hat OpenShift Container Platform (OCP) version 4.2.\n\n### Installation\n\nThe full set of [instructions for installing Cloud Pak for Applications](https://www.ibm.com/support/knowledgecenter/SSCSJL_4.x/install-icpa-cli.html) is found in the IBM Knowledge Center.  The installation can per performed from a workstation that is not one of the VMs in the cluster.  This workstation must have access to the entitled registry, the OCP/OKD cluster and the Internet.\n\nIf the OCP/OKD app subdomain is set in the cluster, there is no need to edit the generated config.yaml file.  The installation can be started with all default values.\n\n### Workarounds for Kabanero\n\nIn version `3.0.0.0` of Kabanero the appsody operator can only deploy applications in the `kabanero` namespace.\n\nTo work around this problem a second appsody operator needs to be deployed with a cluster scope that watches all namespaces.\n\nTake into account that the namespace `kabanero` will be watched by both appsody operators, this means that no applications should be depoyed into the `kabanero` namespace.\nThe user is required to set the namespace in the `app-deploy.yaml` in the appsody application git repository.\n\n\n#### Install the Appsody Operator CRD\n```\noc apply -f https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-crd.yaml\n```\n\n#### Install the Appsody Operator RBAC resources\nCreate a namespace to install the appsody operator for example `appsody` if not already created.\n```\noc new-project appsody\n```\n\nSet the environment variable `OPERATOR_NAMESPACE` to the namespace `appsody`\n```\nOPERATOR_NAMESPACE=appsody\n```\nWith the variable `OPERATOR_NAMESPACE` set run the following command:\n```\ncurl -L https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-cluster-rbac.yaml \\\n  | sed -e \"s/APPSODY_OPERATOR_NAMESPACE/${OPERATOR_NAMESPACE}/\" \\\n  | oc apply -f -\n ```\n\n#### Install the Appsody Operator resources\n\nSet the variable `WATCH_NAMESPACE` to empty string value to watch all namespaces\n```\nWATCH_NAMESPACE='\"\"'\n```\nThen run the following command\n```\ncurl -L https://raw.githubusercontent.com/appsody/appsody-operator/master/deploy/releases/0.1.0/appsody-app-operator.yaml \\\n  | sed -e \"s/APPSODY_WATCH_NAMESPACE/${WATCH_NAMESPACE}/\" \\\n  | oc apply -n ${OPERATOR_NAMESPACE} -f -\n```\n\n\nThe cluster setup of Cloud Pak for Applications is complete.\n","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/cloudpak8s/src/pages/apps/cp4a_installation/index.mdx.md"}}}}